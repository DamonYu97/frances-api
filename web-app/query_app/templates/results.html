{% extends "home.html" %}
    {% block head %}
     {% endblock %}

{% block content %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
{{ super() }}
<br></br>
<p>Returned <strong>{{ results|length }}</strong> results for <strong>{{term}}</strong> </p>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  {{ pagination.info }}
  {{ pagination.links }}
    <table class="table table-striped table-bordered table-hover">
        <thead class="thead-inverse">
            <tr><th>URI</th>{% for v in headers %}<th>{{ v }}</th>{% endfor %}</tr>
        </thead>
        <tbody>
            {% for key, value in results.items() %}
               <tr>
                    <th> {{ key }} </th>
                       {% for elemen in value %}
                          <td>
			   <script>

                          var minimize_character_count = 100;    
                          var t = "{{elemen}}";        
                          if(t.length > minimize_character_count ){
                          document.write(
                           t.slice(0,minimize_character_count )+'<span>... </span><a href="#" class="more">More</a>'+
                           '<span style="display:none;">'+ t.slice(minimize_character_count ,t.length)+' <a href="#" class="less">Less</a></span>'
                          );
                           }
                          else {
                                  document.write(t);
                                }
                          $('a.more').click(function(event){
        		    event.preventDefault();
        		    $(this).hide().prev().hide();
        		    $(this).next().show();        
                           });

                           $('a.less').click(function(event){
                           event.preventDefault();
                           $(this).parent().hide().prev().show().prev().show();    
                           });

                         </script>
                        </td>
                       {% endfor %}
               </tr>
            {% endfor %}
        </tbody>
    </table>
  {{ pagination.links }}



{% endblock %}
